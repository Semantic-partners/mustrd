@prefix rdf:       <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sh:        <http://www.w3.org/ns/shacl#> .
@prefix must:      <https://mustrd.com/model/> .
@prefix test-data: <https://semanticpartners.com/data/test/> .


test-data:a_select_table_scenario
    a          must:TestSpec ;
    must:given [ a               must:StatementsDataset ;
                 must:statements [ a             rdf:Statement ;
                                   rdf:subject   test-data:sub ;
                                   rdf:predicate test-data:pred ;
                                   rdf:object    test-data:obj ; ] ; ] ;
    must:when  [ a          must:SelectSparql ;
                 must:query "select ?s ?p ?o { ?s ?p ?o }" ; ] ;
    must:then  [ a         must:TableDataset ;
                 must:rows [ sh:order 1 ;
                             must:row [ must:variable "s" ;
                                        must:binding  test-data:sub ; ],
                                      [ must:variable "p" ;
                                        must:binding  test-data:pred ; ],
                                      [ must:variable "o" ;
                                        must:binding  test-data:obj ; ] ; ] ;
               ] .

test-data:a_select_csv_scenario
    a          must:TestSpec ;
    must:given [ a               must:StatementsDataset ;
                 must:statements [ a             rdf:Statement ;
                                   rdf:subject   test-data:sub ;
                                   rdf:predicate test-data:pred ;
                                   rdf:object    test-data:obj ; ] ; ] ;
    must:when  [ a          must:SelectSparql ;
                 must:query "select ?s ?p ?o { ?s ?p ?o }" ; ] ;
    must:then  [ a         must:CsvFileDataset ;
                 must:path "test-specs/select-scenario.csv" ;
               ] .
